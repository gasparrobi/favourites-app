<div id="movie" *ngIf="book">

  <div *ngIf="!addNewEnabled">
    <select [(ngModel)]="selectedBook" (change)="selectMovieEvent()" name="" id="">
      <option [ngValue]=null></option>
      <option *ngFor="let b of existingBooks" [ngValue]="b">{{b.fullName}}</option>
    </select>
  </div>

  <input style="margin:20px 0px;" type="checkbox" (click)="checkboxEvent()"> add new book

  <div *ngIf="addNewEnabled" style="margin-bottom: 50px;" >

    <form  class="form-group" [formGroup]="bookForm" >

      <input id="movie-title" type="text" [(ngModel)]="book.title" placeholder="book title" formControlName="titleControl" (keyup)="doValidate(); doSubmit();" >
      <input id="movie-year" type="text" [(ngModel)]="book.year" placeholder="book year" formControlName="yearControl" (keyup)="doValidate(); doSubmit()">
    </form>

    <div *ngIf="titleControl.invalid"
         class="alert alert-danger" style="margin-top: 40px; color: red;">

      <div *ngIf="titleControl.errors.required">
        Title is required.
      </div>
      <div *ngIf="titleControl.errors.minlength">
        Name must be at least 4 characters long.
      </div>
    </div>

    <div *ngIf="yearControl.invalid"
         class="alert alert-danger" style="color: red;">

      <div *ngIf="yearControl.errors.required">
        Year is required.
      </div>
      <div *ngIf="yearControl.errors.minlength">
        Year must be 4 characters long.
      </div>
      <div *ngIf="yearControl.errors.maxlength">
        Year must be 4 characters long.
      </div>

    </div>

  </div>


  <!--<button (click)="sendData()">SAVE</button>-->
</div>
